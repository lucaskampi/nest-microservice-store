# Store Service Architecture

## Service Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CLIENT REQUEST                            â”‚
â”‚                  POST /api/purchases                             â”‚
â”‚  {                                                               â”‚
â”‚    "items": [{"id": 1, "amount": 2}],                          â”‚
â”‚    "address": {"street": "...", "number": 123, "state": "SP"}  â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STORE SERVICE (Port 4000)                     â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            PurchasesController                           â”‚  â”‚
â”‚  â”‚  POST /api/purchases                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                                          â”‚
â”‚                      â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            PurchasesService                              â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  1. Create Purchase (state: RECEIVED)                   â”‚  â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚  â”‚
â”‚  â”‚     â”‚ Database: Save purchase     â”‚                     â”‚  â”‚
â”‚  â”‚     â”‚ id: 1, state: "RECEIVED"    â”‚                     â”‚  â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  2. Get Provider Info                                   â”‚  â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚  â”‚
â”‚  â”‚     â”‚ SupplierClient              â”‚                     â”‚  â”‚
â”‚  â”‚     â”‚ GET /api/info/SP            â”‚                     â”‚  â”‚
â”‚  â”‚     â”‚ â†’ Supplier Service          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚         â”‚  â”‚
â”‚  â”‚                                                â”‚         â”‚  â”‚
â”‚  â”‚  3. Place Order (state: ORDER_REQUESTED)      â”‚         â”‚  â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚         â”‚  â”‚
â”‚  â”‚     â”‚ SupplierClient              â”‚           â”‚         â”‚  â”‚
â”‚  â”‚     â”‚ POST /api/order             â”‚           â”‚         â”‚  â”‚
â”‚  â”‚     â”‚ â†’ Supplier Service          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚  â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚         â”‚  â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚         â”‚  â”‚
â”‚  â”‚     â”‚ Database: Update purchase   â”‚           â”‚         â”‚  â”‚
â”‚  â”‚     â”‚ orderId: 5                  â”‚           â”‚         â”‚  â”‚
â”‚  â”‚     â”‚ state: "ORDER_REQUESTED"    â”‚           â”‚         â”‚  â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚         â”‚  â”‚
â”‚  â”‚                                                â”‚         â”‚  â”‚
â”‚  â”‚  4. Book Delivery (state: RESERVE_DELIVERED)  â”‚         â”‚  â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚         â”‚  â”‚
â”‚  â”‚     â”‚ CarrierClient               â”‚           â”‚         â”‚  â”‚
â”‚  â”‚     â”‚ POST /api/delivery          â”‚           â”‚         â”‚  â”‚
â”‚  â”‚     â”‚ â†’ Carrier Service           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚    â”‚    â”‚  â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚    â”‚    â”‚  â”‚
â”‚  â”‚     â”‚ Database: Update purchase   â”‚           â”‚    â”‚    â”‚  â”‚
â”‚  â”‚     â”‚ voucher: 789                â”‚           â”‚    â”‚    â”‚  â”‚
â”‚  â”‚     â”‚ state: "RESERVE_DELIVERED"  â”‚           â”‚    â”‚    â”‚  â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚    â”‚    â”‚  â”‚
â”‚  â”‚                                                â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  5. Return Complete Purchase                  â”‚    â”‚    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”‚â”€â”€â”˜
â”‚                                                        â”‚    â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”˜
                                                         â”‚    â”‚
                                                         â–¼    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SUPPLIER SERVICE (Port 4001)  â”‚  â”‚ CARRIER SERVICE (Port 4002)  â”‚
â”‚  ğŸ”´ TO BE CREATED              â”‚  â”‚ ğŸ”´ TO BE CREATED             â”‚
â”‚                                â”‚  â”‚                              â”‚
â”‚  GET  /api/info/:state         â”‚  â”‚ POST /api/delivery           â”‚
â”‚  POST /api/order               â”‚  â”‚                              â”‚
â”‚  GET  /api/product/:state      â”‚  â”‚ Returns: VoucherDTO          â”‚
â”‚                                â”‚  â”‚ { number, deliveryForecast } â”‚
â”‚  Returns:                      â”‚  â”‚                              â”‚
â”‚  - InfoProviderDTO             â”‚  â”‚                              â”‚
â”‚  - InfoOrderDTO                â”‚  â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Module Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          AppModule                               â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ProductsModule â”‚  â”‚ PurchasesModuleâ”‚  â”‚ HttpClientsModuleâ”‚  â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                  â”‚  â”‚
â”‚  â”‚ âœ… Existing    â”‚  â”‚ âœ… NEW         â”‚  â”‚ âœ… NEW           â”‚  â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                  â”‚  â”‚
â”‚  â”‚ Controllers:   â”‚  â”‚ Controllers:   â”‚  â”‚ Providers:       â”‚  â”‚
â”‚  â”‚ - Products     â”‚  â”‚ - Purchases    â”‚  â”‚ - SupplierClient â”‚  â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚ - CarrierClient  â”‚  â”‚
â”‚  â”‚ Services:      â”‚  â”‚ Services:      â”‚  â”‚                  â”‚  â”‚
â”‚  â”‚ - Products     â”‚  â”‚ - Purchases    â”‚  â”‚ Uses:            â”‚  â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚ - HttpModule     â”‚  â”‚
â”‚  â”‚ Database:      â”‚  â”‚ Database:      â”‚  â”‚ - Axios          â”‚  â”‚
â”‚  â”‚ - Product      â”‚  â”‚ - Purchase     â”‚  â”‚                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    PrismaService                         â”‚  â”‚
â”‚  â”‚  - Shared database connection                            â”‚  â”‚
â”‚  â”‚  - Used by all modules                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Purchase State Machine

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  START   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    RECEIVED     â”‚ â—„â”€â”€â”€ Purchase created in database
â”‚                 â”‚      State: "RECEIVED"
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ Step 1: Get Provider Info
     â”‚ Step 2: Place Order
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ORDER_REQUESTED â”‚ â—„â”€â”€â”€ Order placed with supplier
â”‚                 â”‚      State: "ORDER_REQUESTED"
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      orderId saved
     â”‚
     â”‚ Step 3: Book Delivery
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚RESERVE_DELIVEREDâ”‚ â—„â”€â”€â”€ Delivery booked
â”‚                 â”‚      State: "RESERVE_DELIVERED"
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      voucher & deliveryDate saved
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SUCCESS  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ERROR HANDLING:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
If any step fails, purchase is returned in current state:
- Fail before order â†’ RECEIVED
- Fail after order â†’ ORDER_REQUESTED
- Fail after delivery â†’ RESERVE_DELIVERED (shouldn't happen)
```

## Data Flow

```
Request DTO                 Database                 Response
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”€â”€â”€â”€â”€â”€â”€â”€                 â”€â”€â”€â”€â”€â”€â”€â”€

CreatePurchaseDTO
{
  items: [
    {id: 1, amount: 2}    â”€â”€â”€â”€â”
  ],                          â”‚
  address: {                  â”‚
    street: "...",            â”‚
    number: 123,              â”‚
    state: "SP"               â”‚
  }                           â”‚
}                             â”‚
                              â”‚
                              â–¼
                        Purchase Entity
                        {
                          id: 1,
                          orderId: null,
                          preparationTime: null,
                          destinationAddress: "..., 123, SP",
                          deliveryDate: null,
                          voucher: null,
                          state: "RECEIVED",
                          createdAt: Date,
                          updatedAt: Date
                        }
                              â”‚
                              â”‚ (After successful flow)
                              â”‚
                              â–¼
                        Purchase Entity
                        {
                          id: 1,
                          orderId: 5,
                          preparationTime: 3,
                          destinationAddress: "..., 123, SP",
                          deliveryDate: Date(+3 days),
                          voucher: 789,
                          state: "RESERVE_DELIVERED",
                          createdAt: Date,
                          updatedAt: Date
                        }
                              â”‚
                              â”‚
                              â–¼
                        JSON Response
                        (Same as entity)
```

## Error Scenarios

```
Scenario 1: Supplier Service Down
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
POST /api/purchases
  â†’ Create purchase (RECEIVED)
  â†’ Call Supplier âŒ FAIL
  â†’ Return purchase with state: "RECEIVED"

Scenario 2: Carrier Service Down
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
POST /api/purchases
  â†’ Create purchase (RECEIVED)
  â†’ Call Supplier âœ“ OK
  â†’ Update to ORDER_REQUESTED
  â†’ Call Carrier âŒ FAIL
  â†’ Return purchase with state: "ORDER_REQUESTED"

Scenario 3: All Services Up
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
POST /api/purchases
  â†’ Create purchase (RECEIVED)
  â†’ Call Supplier âœ“ OK
  â†’ Update to ORDER_REQUESTED
  â†’ Call Carrier âœ“ OK
  â†’ Update to RESERVE_DELIVERED
  â†’ Return complete purchase âœ“
```

## Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Application Layer            â”‚
â”‚                                     â”‚
â”‚  NestJS + TypeScript                â”‚
â”‚  - Controllers                      â”‚
â”‚  - Services                         â”‚
â”‚  - DTOs (class-validator)           â”‚
â”‚  - Guards & Interceptors            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Communication Layer            â”‚
â”‚                                     â”‚
â”‚  @nestjs/axios + Axios              â”‚
â”‚  - HTTP Client                      â”‚
â”‚  - Service-to-Service calls         â”‚
â”‚  - Error handling                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Database Layer               â”‚
â”‚                                     â”‚
â”‚  Prisma ORM + SQLite                â”‚
â”‚  - Schema definition                â”‚
â”‚  - Migrations                       â”‚
â”‚  - Type-safe queries                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Documentation Layer            â”‚
â”‚                                     â”‚
â”‚  Swagger/OpenAPI                    â”‚
â”‚  - Auto-generated docs              â”‚
â”‚  - Interactive testing              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
